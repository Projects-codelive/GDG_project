import{c as g,j as e,R as u,r as a}from"./index.js";const p=()=>{const[s,i]=a.useState(""),[o,d]=a.useState(""),[n,l]=a.useState(""),[m,r]=a.useState("Checking...");a.useEffect(()=>{chrome.storage.local.get(["token","username"],t=>{t.token?(d(t.token),l(t.username||""),r("Connected")):r("Not Connected")})},[]);const h=()=>{let t="";try{const x=s.split(".")[1];t=JSON.parse(atob(x)).username||""}catch{console.log("Could not decode token")}chrome.storage.local.set({token:s,username:t},()=>{d(s),l(t),r("Connected"),i("")})},b=()=>{chrome.storage.local.remove(["token","username"],()=>{d(""),l(""),r("Not Connected")})},c=()=>{chrome.tabs.create({url:"https://gdg-project-7bne.vercel.app/dashboard.html"})};return e.jsxs("div",{className:"w-96 bg-gradient-to-br from-slate-50 to-indigo-50 dark:from-slate-900 dark:to-slate-800",children:[e.jsx("div",{className:"gradient-primary p-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"Linka"}),e.jsx("p",{className:"text-xs text-white/70",children:"Social Media Saver"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl mb-6 ${o?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-amber-500"} animate-pulse`}),e.jsx("span",{className:"text-sm font-medium",children:m})]}),o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-apricot to-cherry flex items-center justify-center text-white font-bold text-lg",children:n?n.charAt(0).toUpperCase():"?"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:n||"Connected User"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ready to save posts"})]})]})}),e.jsxs("button",{onClick:c,className:"w-full gradient-primary text-white py-3 px-4 rounded-xl font-semibold shadow-lg hover:shadow-xl hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Go to Dashboard"]}),e.jsx("button",{onClick:b,className:"w-full border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 py-2 px-4 rounded-xl text-sm font-medium transition-colors",children:"Disconnect"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400",children:"1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Open Dashboard & Login"}),e.jsxs("button",{onClick:c,className:"w-full bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 py-2 px-3 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open Dashboard"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400",children:"2"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Copy Token & Connect"}),e.jsx("input",{type:"text",value:s,onChange:t=>i(t.target.value),placeholder:"Paste your access token here...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none mb-2 text-slate-900 dark:text-white placeholder-slate-400"}),e.jsx("button",{onClick:h,disabled:!s.trim(),className:"w-full gradient-primary text-white py-2 px-4 rounded-lg font-medium hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Connect Extension"})]})]})})]})]})]})};g.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(p,{})}));
